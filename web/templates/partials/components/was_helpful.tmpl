{{ define "was_helpful" }}
{{ $lang := .Lang }}
{{ $feedback := .Feedback }}
<section class="rounded-lg border border-indigo-100 bg-indigo-50/40 p-5 shadow-inner">
  <form hx-post="{{ $feedback.Action }}"
        hx-target="this"
        hx-swap="outerHTML"
        method="{{ $feedback.Method }}"
        class="space-y-4 text-sm text-gray-700">
    <fieldset class="space-y-3">
      <legend class="text-base font-semibold text-indigo-900">{{ $feedback.Question }}</legend>
      <div class="flex flex-wrap gap-3">
        {{ range $feedback.Options }}
        <label class="inline-flex items-center gap-2 rounded-full border border-indigo-200 bg-white px-3 py-2 shadow-sm transition hover:border-indigo-300 focus-within:ring-2 focus-within:ring-indigo-500">
          <input type="radio" name="helpful" value="{{ .Value }}" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500" required>
          <span class="font-medium text-gray-800">{{ .Label }}</span>
        </label>
        {{ end }}
      </div>
    </fieldset>
    <div class="space-y-2">
      <label for="feedback-notes" class="block text-xs font-medium uppercase tracking-wide text-indigo-900">{{ tlang $lang "legal.feedback.notes" }}</label>
      <textarea id="feedback-notes" name="notes" rows="3" maxlength="500" class="w-full rounded-md border border-indigo-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-300" placeholder="{{ tlang $lang "legal.feedback.placeholder" }}"></textarea>
      <p class="text-xs text-indigo-700">{{ tlang $lang "legal.feedback.hint" }}</p>
    </div>
    <div class="flex items-center justify-between">
      <button type="submit" class="inline-flex items-center gap-2 rounded-md bg-indigo-600 px-4 py-2 font-medium text-white shadow hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500">
        {{ template "icon" dict "Name" "arrow-up-tray" "Class" "h-4 w-4" }}
        <span>{{ $feedback.SubmitLabel }}</span>
      </button>
      <span class="text-xs text-indigo-500">{{ $feedback.Assurance }}</span>
    </div>
  </form>
</section>
{{ end }}
