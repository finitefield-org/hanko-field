{{define "finance/inline-alert"}}
<div class="{{financeAlertClass .Tone}}">
  <div class="flex flex-1 flex-col gap-1">
    <p class="font-medium">{{.Title}}</p>
    {{if .Body}}
      <p class="text-sm text-slate-600">{{.Body}}</p>
    {{end}}
    {{if .Action}}
      <a href="{{.Action.Href}}" class="text-sm font-medium text-brand-600 hover:text-brand-700">{{.Action.Label}} →</a>
    {{end}}
  </div>
</div>
{{end}}

{{define "finance/history-panel"}}
<section class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
  <h3 class="text-sm font-semibold text-slate-900">更新履歴</h3>
  {{if eq (len .Events) 0}}
    <p class="mt-4 text-sm text-slate-500">履歴がまだありません。</p>
  {{else}}
    <ol class="mt-4 space-y-4 text-sm text-slate-600">
      {{range .Events}}
        <li class="relative pl-6">
          <span class="absolute left-0 top-1 h-2 w-2 rounded-full bg-brand-500"></span>
          <p class="text-xs uppercase tracking-wide text-slate-400">{{.Timestamp}} · {{.Relative}}</p>
          <p class="font-medium text-slate-900">{{.Action}}</p>
          {{if .Details}}
            <p class="text-sm text-slate-600">{{.Details}}</p>
          {{end}}
          {{if .Actor}}
            <p class="text-xs text-slate-500">by {{.Actor}}</p>
          {{end}}
        </li>
      {{end}}
    </ol>
  {{end}}
</section>
{{end}}
