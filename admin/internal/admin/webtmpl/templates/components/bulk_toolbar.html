{{define "components/bulk-toolbar"}}
{{if or (gt .SelectedCount 0) .RenderWhenEmpty}}
  <div
    class="flex flex-col gap-3 rounded-lg border border-brand-200 bg-brand-50 px-4 py-3 text-sm text-slate-900 shadow-sm sm:flex-row sm:items-center sm:justify-between"
    role="region"
    aria-live="polite"
    aria-label="Bulk actions toolbar"
    data-selected-count="{{.SelectedCount}}"
    {{range $k, $v := .Attrs}} {{$k}}="{{$v}}"{{end}}
  >
    <div class="flex items-center gap-3">
      <span class="inline-flex h-9 w-9 items-center justify-center rounded-full bg-brand-600 text-sm font-semibold text-white" data-bulk-count>
        {{.SelectedCount}}
      </span>
      <div class="space-y-1">
        <p class="text-sm font-semibold text-slate-900" data-bulk-message>{{bulkToolbarMessage .}}</p>
        {{if gt .TotalCount 0}}
          <p class="text-xs text-slate-600" data-bulk-total>
            of {{.TotalCount}} total
          </p>
        {{end}}
      </div>
    </div>
    <div class="flex flex-wrap items-center gap-2">
      {{if .ClearAction}}
        {{template "components/bulk-toolbar-action" (dict "Action" .ClearAction "IsClear" true)}}
      {{end}}
      {{range $action := .Actions}}
        {{template "components/bulk-toolbar-action" (dict "Action" $action "IsClear" false)}}
      {{end}}
    </div>
  </div>
{{end}}
{{end}}

{{define "components/bulk-toolbar-action"}}
{{$action := .Action}}
{{$variant := bulkActionVariant $action.Options.Variant .IsClear}}
{{$size := bulkActionSize $action.Options.Size}}
{{if $action.Options.Href}}
  <a
    href="{{$action.Options.Href}}"
    class="{{buttonClass $variant $size $action.Options.FullWidth $action.Options.Loading}}"
    data-loading="{{$action.Options.Loading}}"
    aria-disabled="{{or $action.Options.Disabled $action.Options.Loading}}"
    {{range $k, $v := $action.Options.Attrs}} {{$k}}="{{$v}}"{{end}}
  >
    {{$action.Label}}
  </a>
{{else}}
  <button
    type="{{buttonType $action.Options.Type}}"
    class="{{buttonClass $variant $size $action.Options.FullWidth $action.Options.Loading}}"
    data-loading="{{$action.Options.Loading}}"
    {{if or $action.Options.Disabled $action.Options.Loading}}disabled{{end}}
    {{range $k, $v := $action.Options.Attrs}} {{$k}}="{{$v}}"{{end}}
  >
    {{$action.Label}}
  </button>
{{end}}
{{end}}
